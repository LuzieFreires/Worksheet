---
title: "RWorksheet_Freires#4b"
output: pdf_document
date: "2024-10-29"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Using Loop Function

for() loop

1. Using the for loop, create an R script that will display a 5x5 matrix as shown in
Figure 1. It must contain vectorA = [1,2,3,4,5] and a 5 x 5 zero matrix.
Hint Use abs() function to get the absolute value

```{r}
vectorA <- c(1, 2, 3, 4, 5)
zero_matrix <- matrix(0, nrow = 5, ncol = 5)

for (i in 1:5) {
  for (j in 1:5) {
  zero_matrix[i, j] <- abs(vectorA[i] - vectorA[j])
  } 
}
print(zero_matrix)

```
2. Print the string "*" using for() function. The output should be the same as shown
in Figure

```{r}
for (i in 1:5) {
  cat(rep('"*"', i), "\n")
}

```
3. Get an input from the user to print the Fibonacci sequence starting from the 1st input
up to 500. Use repeat and break statements. Write the R Scripts and its output.

```{r}
x <- 0
y <- 1

num <- readline(prompt = "Enter the starting number: ")
3
repeat {
  num <- x + y
  if (num > 500) break
  x <- y
  y <- num
  print(num)
}

```

Using Basic Graphics (plot(),barplot(),pie(),hist())

4. Import the dataset as shown in Figure 1 you have created previously.

a. What is the R script for importing an excel or a csv file? Display the first 6 rows of
the dataset? Show your codes and its result
```{r}
library(readxl)
data_table <- read_excel("/cloud/project/Worksheet#4/data_table.xlsx")
print(head(data_table))
```
b. Create a subset for gender(female and male). How many observations are there in
Male? How about in Female? Write the R scripts and its output.
```{r}
males <- subset(data_table)
females <- subset(data_table)

n_males <- nrow(males)
n_females <- nrow(females)

cat("Number of Male observations: ", n_males, "\n")
cat("Number of Female observations: ", n_females, "\n")
```
c. Create a graph for the number of males and females for Household Data. Use plot(), chart type = barplot. Make sure to place title, legends, and colors. Write the R scripts and its result.

```{r}
library(ggplot2)

  
  Gender = c("Male", "Female")
  Number = c(28, 28)       
  data_table <- data.frame(Gender, Number)

ggplot(data_table, aes(x = Gender, y = Number, fill = Gender)) +
  geom_bar(stat = "identity") +
  theme(legend.title = element_blank())

```


5. The monthly income of Dela Cruz family was spent on the following:
Food Electricity Savings Miscellaneous
60    10            5         25

a. Create a piechart that will include labels in percentage.Add some colors and title of
the chart. Write the R scripts and show its output.

```{r}
library(ggplot2) 

   bills <- c(60, 10, 5, 25)
   categories <- c("Food", "Electricity", "Savings", "Miscellaneous")

   percentages <- round(bills / sum(bills) * 100, 1)
   labels <- paste(categories, percentages, "%")

pie(
  bills,
  labels = labels,
  col = c("lightblue", "lightyellow", "gold", "brown"),
  main = "Dela Cruz Family Monthly Income"
)

```


6. Use the iris dataset.
data(iris)

a. Check for the structure of the dataset using the str() function. 

- Describe what you have seen in the output.

- Based on my observations, the iris data set is a data frame that has 5 variables and 150 obs. The following variables are Sepal.Length, Sepal.Width, Petal.Length, Petal.Width, and Species with 3 Factor Levels5

```{r}
data(iris)
str(iris)
```

b. Create an R object that will contain the mean of the sepal.length,
sepal.width,petal.length,and petal.width. What is the R script and its result?

```{r}
data(iris)
value <- colMeans(iris[, 1:4])
print(value)

```

c. Create a pie chart for the Species distribution. Add title, legends, and colors. Write
the R script and its result.

```{r}
data(iris)

species_data <- table(iris$Species)

labels <- paste(names(species_data), species_data, sep = " (")
labels <- paste(labels, ")", sep = "")

pie(
  species_data,
  labels = labels,
  col = c("pink", "purple", "lightblue"),
  main = "Species Distribution"
)
```


d. Subset the species into setosa, versicolor, and virginica. Write the R scripts
and show the last six (6) rows of each species.

```{r}

setosa_sub <- subset(iris, Species == "setosa")
versicolor_sub <- subset(iris, Species == "versicolor")
virginica_sub <- subset(iris, Species == "virginica")

print(tail(setosa_sub))
print(tail(versicolor_sub))
print(tail(virginica_sub))

```